# 整数二分

## 情况 1

### 分析

![](/img/0002.bmp)

### 实现

```cpp
while (l < r) {
    int mid = l + r + 1 >> 1;
    if (check(mid) == true) // 满足条件 1
        l = mid;
    else
        r = mid - 1;
}
```

## 情况 2

### 分析

![](/img/0003.bmp)

### 实现

```cpp
while (l < r) {
    int mid = l + r >> 1;
    if (check(mid) == true) // 满足条件 2
        r = mid;
    else
        l = mid + 1;
}
```

## 补充

对下标二分、对数值二分。

丢弃一定不存在答案的区间。

终止时，`l`等于`r`。

分析上面两种不同的`mid`取法，发现**`mid = (l + r) >> 1`不会取到`r`这个值，`mid = (l + r + 1) >> 1`不会取到`l`这个值**。可以利用这一性质来**处理无解的情况**，把二分的区间`[1, n]`分别扩大为`[1, n + 1]`和`[0, n]`（把数组`a`的一个越界的下标包含进来）。**如果最后二分终止于扩大后的这个越界下标上，则说明`a`中不存在所求的数**。