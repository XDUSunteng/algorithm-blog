# 逆序对的数量

[AcWing-788-逆序对的数量](https://www.acwing.com/solution/content/2103/)

## 实现

```cpp
#include <iostream>
using namespace std;
typedef long long LL;
const int N = 100010;
int n, a[N], temp[N];
LL merge_sort(int l, int r)
{
    if(l >= r) return 0;
    int mid = l + r >> 1;
    LL res = merge_sort(l, mid) + merge_sort(mid + 1, r);

    int i = l, j = mid + 1, idx = 0;
    while(i <= mid && j <= r)
    {
        if(a[i] <= a[j])
            temp[++ idx] = a[i ++];
        else
        {
            temp[++ idx] = a[j ++];
            res += mid - i + 1;
        }
    }

    while(i <= mid) temp[++ idx] = a[i ++];
    while(j <= r) temp[++ idx] = a[j ++];

    for(int i = l, idx = 1; i <= r; ++ i, ++ idx) a[i] = temp[idx];
    return res;
}
int main()
{
    scanf("%d", &n);
    for(int i = 1; i <= n; ++ i) scanf("%d", &a[i]);
    printf("%lld", merge_sort(1, n));
    return 0;
}
```

